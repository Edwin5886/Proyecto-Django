
{% extends 'home/base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5">
	<h2 class="text-center text-uppercase text-secondary mb-4">Listado de Estudiantes</h2>
	
	<!-- Formulario de búsqueda -->
	<div class="row mb-4">
		<div class="col-md-8">
			<form method="get" class="d-flex">
				<input 
					type="text" 
					name="buscar" 
					class="form-control me-2" 
					placeholder="Buscar por nombre, apellido o correo..."
					value="{{ query|default:'' }}"
				>
				<button type="submit" class="btn btn-outline-primary me-2">
					<i class="fas fa-search"></i> Buscar
				</button>
				{% if query %}
					<a href="{% url 'lista_estudiantes' %}" class="btn btn-outline-secondary">
						<i class="fas fa-times"></i> Limpiar
					</a>
				{% endif %}
			</form>
		</div>
		<div class="col-md-4 text-end">
			<a href="{% url 'crear_estudiante_publicador' %}" class="btn btn-primary">
				<i class="fas fa-plus"></i> Agregar Estudiante
			</a>
		</div>
	</div>
	
	<!-- Resultados de búsqueda -->
	{% if query %}
		<div class="alert alert-info">
			<i class="fas fa-info-circle"></i> 
			Mostrando resultados para: "<strong>{{ query }}</strong>" ({{ estudiantes.count }} encontrado{{ estudiantes.count|pluralize }})
		</div>
	{% endif %}
	<div class="table-responsive">
		<table class="table table-striped table-bordered">
			<thead class="table-dark">
				<tr>
					<th>Nombre</th>
					<th>Apellido</th>
				</tr>
			</thead>
			<tbody>
				{% for estudiante in estudiantes %}
				<tr>
					<td>{{ estudiante.nombre }}</td>
					<td>{{ estudiante.apellido }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
